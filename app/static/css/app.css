    :root {
      --bg: #e8eef6;
      --panel: #ffffff;
      --line: #d7e0eb;
      --text: #172333;
      --muted: #6b7e93;
      --nav: #102947;
      --blue: #1e58d1;
      --pink: #ed4e95;
      --orange: #f06b23;
      --good: #148248;
      --planned: #b35d2a;
      --shadow: 0 12px 26px rgba(11, 25, 41, 0.08);
      --radius: 12px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      color: var(--text);
      /* TODO: add @font-face for TT Interphases Pro from /static/fonts when font files are available. */
      font-family: "TT Interphases Pro", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: linear-gradient(180deg, #f4f7fb 0%, var(--bg) 100%);
    }

    .top-nav {
      position: sticky;
      top: 0;
      z-index: 20;
      background: linear-gradient(180deg, #113154 0%, #0e2843 100%);
      border-bottom: 1px solid rgba(255,255,255,0.12);
      min-height: 45px;
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      padding: 0 10px;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      height: 30px;
    }

    .brand img {
      display: block;
      height: 24px;
      width: auto;
      object-fit: contain;
    }

    .brand .brand-icon {
      height: 28px;
    }

    .brand .brand-text {
      height: 16px;
    }

    .brand .brand-text.hidden {
      display: none;
    }

    .tabs {
      display: flex;
      gap: 8px;
      justify-content: center;
    }

    .tab {
      border: 0;
      border-radius: 8px;
      background: transparent;
      color: #d5e4f2;
      font-size: 13px;
      padding: 6px 12px;
      cursor: pointer;
    }

    .tab.active {
      background: rgba(255,255,255,0.16);
      color: #fff;
      font-weight: 700;
    }

    .nav-right {
      justify-self: end;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #dbe8f4;
      font-size: 11px;
      font-weight: 700;
    }

    .nav-settings {
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(255, 255, 255, 0.08);
      color: #eef4fb;
      border-radius: 8px;
      width: 24px;
      height: 24px;
      cursor: pointer;
    }

    .import-btn {
      border: 1px solid rgba(255, 255, 255, 0.28);
      background: rgba(255, 255, 255, 0.14);
      color: #eef4fb;
      border-radius: 8px;
      padding: 5px 10px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
    }

    .unit-btn {
      border: 1px solid rgba(255, 255, 255, 0.28);
      background: rgba(255, 255, 255, 0.14);
      color: #eef4fb;
      border-radius: 8px;
      padding: 5px 8px;
      font-size: 11px;
      font-weight: 700;
      cursor: pointer;
    }

    .main {
      padding: 14px;
      min-height: calc(100vh - 45px);
    }

    .page-head {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      margin-bottom: 10px;
      min-height: 32px;
    }
    .page-head.hidden { display: none; }

    h1 {
      margin: 0;
      font-size: 25px;
    }

    .view { display: none; }
    .view.active { display: block; }
    #view-calendar.active {
      display: block;
      height: calc(100vh - 73px);
    }

    .panel {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 12px;
    }

    .panel-title {
      margin: 0 0 10px;
      color: #4f657d;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.35px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .plus-btn,
    .goal-btn {
      border: 1px solid #c7d5e6;
      background: #fff;
      color: #355578;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 700;
      padding: 4px 8px;
      cursor: pointer;
    }

    .home-grid {
      display: grid;
      grid-template-columns: 300px 1fr 380px;
      gap: 12px;
      align-items: start;
    }

    .stack {
      display: grid;
      gap: 10px;
    }

    .event-item,
    .goal-item {
      border: 1px solid #e0e8f3;
      background: #f8fbff;
      border-radius: 10px;
      padding: 9px;
      margin-bottom: 8px;
    }

    .event-item h4,
    .goal-item h4 {
      margin: 0 0 4px;
      font-size: 14px;
    }

    .event-item p,
    .goal-item p {
      margin: 0;
      color: #5a718a;
      font-size: 12px;
    }

    .list-item {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 8px;
      border-top: 1px solid #edf2f7;
      padding: 9px 0;
      width: 100%;
      background: transparent;
      border-left: 0;
      border-right: 0;
      border-bottom: 0;
      text-align: left;
      cursor: pointer;
    }

    .list-item:first-child { border-top: 0; padding-top: 2px; }

    .title { margin: 0 0 3px; font-size: 14px; font-weight: 700; }
    .meta { margin: 0; color: var(--muted); font-size: 12px; }

    .badge {
      align-self: center;
      border-radius: 999px;
      padding: 4px 7px;
      font-size: 10px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.25px;
    }

    .badge.done { background: #e9f8ef; color: var(--good); }
    .badge.planned { background: #fff1e9; color: var(--planned); }

    .metric-row {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .metric-chip {
      min-width: 88px;
      border-radius: 9px;
      color: #fff;
      text-align: center;
      padding: 6px 8px;
    }

    .metric-chip .num { display: block; font-size: 28px; font-weight: 800; line-height: 1; }
    .metric-chip .lbl { display: block; font-size: 10px; text-transform: uppercase; letter-spacing: 0.35px; }

    .chip-ctl { background: var(--blue); }
    .chip-atl { background: var(--pink); }
    .chip-tsb { background: var(--orange); }

    .explain {
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #e0e8f2;
      border-radius: 10px;
      background: #f9fbfe;
      color: #5a7088;
      font-size: 12px;
      line-height: 1.4;
    }

    .spark-wrap { display: grid; gap: 8px; }

    .spark-box {
      border: 1px solid #e2ebf4;
      border-radius: 8px;
      background: #f8fbff;
      padding: 7px;
    }

    .spark-head {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: #57708a;
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .sparkline {
      display: flex;
      gap: 2px;
      align-items: flex-end;
      height: 40px;
    }

    .sparkline span {
      display: block;
      width: 4px;
      flex: 1;
      border-radius: 2px 2px 0 0;
      min-height: 2px;
      background: #7d9fc8;
    }

    .calendar-wrap {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 10px;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .calendar-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .cal-nav {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .btn {
      border: 0;
      border-radius: 10px;
      padding: 9px 13px;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }

    .btn.secondary { background: #fff; color: #284362; border: 1px solid var(--line); }
    .btn.primary { background: var(--blue); color: #fff; }

    .calendar-scroll {
      flex: 1;
      min-height: 0;
      overflow-y: auto;
      border: 1px solid #e2ebf4;
      border-radius: 10px;
      background: #f8fbff;
      padding: 8px;
      scroll-behavior: auto;
    }

    .calendar-week-header {
      display: grid;
      grid-template-columns: repeat(7, minmax(0, 1fr)) 240px;
      gap: 5px;
      margin-bottom: 6px;
    }

    .calendar-week-header span {
      border: 1px solid #dbe5f1;
      background: #f3f7fd;
      color: #607791;
      border-radius: 7px;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.35px;
      text-transform: uppercase;
      padding: 7px 8px;
      text-align: center;
    }

    .month {
      background: #fff;
      border: 1px solid #e3ebf5;
      border-radius: 10px;
      margin-bottom: 10px;
      padding: 9px;
    }

    .month.current-month {
      border-color: #b7ccee;
      box-shadow: 0 0 0 2px #e6efff inset;
    }

    .month-title {
      margin: 0 0 7px;
      font-size: 16px;
    }

    .week-row {
      display: grid;
      grid-template-columns: repeat(7, minmax(0, 1fr)) 240px;
      gap: 5px;
    }

    .day {
      min-height: clamp(120px, 16vh, 180px);
      border: 1px solid #e7edf6;
      border-radius: 8px;
      background: #fdfefe;
      padding: 9px 8px 8px;
      display: flex;
      flex-direction: column;
      gap: 5px;
      position: relative;
      text-align: left;
    }

    .day.empty {
      border-color: transparent;
      background: transparent;
    }

    .day.today {
      border-color: #3d76df;
      box-shadow: 0 0 0 1px #dce9ff inset;
      background: #f3f8ff;
    }

    .quick-add {
      position: static;
      width: 100%;
      height: 28px;
      border: 1px solid #b9c9de;
      background: #f8fbff;
      border-radius: 6px;
      color: #3c5f87;
      font-size: 22px;
      line-height: 1;
      opacity: 0;
      pointer-events: none;
      cursor: pointer;
      transition: opacity 0.15s ease;
      margin-top: 4px;
    }

    .day:hover .quick-add {
      opacity: 1;
      pointer-events: auto;
    }

    .d-num {
      font-size: 12px;
      font-weight: 700;
      color: #35516f;
    }

    .item {
      font-size: 10px;
      border-radius: 7px;
      padding: 2px 4px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      border: 1px solid transparent;
    }

    .item.done { background: #e9f7ed; color: #0f7a3f; }
    .item.workout { background: #fff2e8; color: #a75427; }
    .item.event { background: #e8efff; color: #1c4cb9; border-color: #cedcf8; }
    .item.goal { background: #edf8ef; color: #1f7e42; border-color: #d5efdb; }
    .item.note { background: #f6f0ff; color: #6134b6; border-color: #e7dafd; }
    .item.metrics { background: #eef8ff; color: #246d8f; border-color: #d6ecf8; }
    .item.availability { background: #f7f7f7; color: #596274; border-color: #eaecf0; }
    .item.paired-green { background: #edf9ef; border-color: #cdebd2; color: #1f7f3e; }
    .item.paired-orange { background: #fff2e8; border-color: #ffd9bf; color: #b4571f; }
    .item.paired-yellow { background: #fffde9; border-color: #f8edac; color: #8a7b20; }
    .item.paired-red { background: #ffecee; border-color: #f7c8cd; color: #b2313a; }
    .item.unplanned { background: #f2f3f5; border-color: #dfe2e6; color: #555f6f; }

    .work-card {
      width: 100%;
      border: 1px solid #d9e4ef;
      border-top: 4px solid #a1b8d4;
      border-radius: 6px;
      background: #f9fcff;
      text-align: left;
      padding: 8px 9px;
      color: #1d2a39;
      cursor: pointer;
      font-size: 11px;
      line-height: 1.55;
      font-family: inherit;
      position: relative;
    }

    .card-menu-btn {
      position: absolute;
      top: 2px;
      right: 2px;
      border: 0;
      background: transparent;
      color: #7087a0;
      cursor: pointer;
      padding: 2px 4px;
      font-size: 14px;
      line-height: 1;
      border-radius: 4px;
    }

    .card-menu-btn:hover { background: rgba(0, 0, 0, 0.06); }

    .work-card .wc-title {
      margin: 0 0 4px;
      font-size: 11px;
      font-weight: 700;
      min-width: 0;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      -webkit-mask-image: linear-gradient(to bottom, black 75%, transparent 100%);
      mask-image: linear-gradient(to bottom, black 75%, transparent 100%);
      line-height: 1.3;
      padding-right: 8px;
    }

    .work-card .wc-title span {
      overflow: hidden;
    }

    .wc-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      margin-bottom: 2px;
    }

    .wc-icon img {
      width: 24px;
      height: 24px;
      object-fit: contain;
    }

    .work-card .wc-meta {
      margin: 0 0 2px;
      color: #5f758e;
      font-size: 11px;
    }

    .work-card .wc-metrics {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 0 0 2px;
      color: #5f758e;
      font-size: 11px;
      flex-wrap: wrap;
    }

    .work-card .wc-bottom {
      margin-top: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #506885;
      font-size: 11px;
    }

    .work-card.done { border-top-color: #4db347; background: #f2f8ef; }
    .work-card.workout { border-top-color: #c7d5e6; background: #ffffff; }
    .work-card.unplanned { border-top-color: #97a4b8; background: #f1f3f6; }
    .work-card.paired-green { border-top-color: #4db347; background: #f2f8ef; }
    .work-card.paired-orange { border-top-color: #f28d4c; background: #fff4ec; }
    .work-card.paired-yellow { border-top-color: #e0c53a; background: #fffde8; }
    .work-card.paired-red { border-top-color: #cc4a56; background: #fff1f2; }

    .delta-up { color: #b4571f; font-weight: 700; }
    .delta-down { color: #8a7b20; font-weight: 700; }
    .work-card.event { border-top-color: #3a70d8; background: #f1f5ff; }
    .work-card.goal { border-top-color: #3da86a; background: #f0faf4; }
    .work-card.note { border-top-color: #8b62cc; background: #f6f1ff; }
    .work-card.metrics { border-top-color: #3aa1be; background: #eefaff; }
    .work-card.availability { border-top-color: #8a95a6; background: #f6f7f9; }

    .week-summary {
      border: 1px solid #d9e3ef;
      border-radius: 8px;
      background: #f8fbff;
      padding: 7px;
      font-size: 11px;
      color: #415a74;
    }

    .ws-metrics {
      display: flex;
      gap: 6px;
      margin-bottom: 6px;
    }

    .ws-chip {
      flex: 1;
      border-radius: 6px;
      color: #fff;
      text-align: center;
      padding: 4px 2px;
      font-size: 10px;
      line-height: 1.2;
    }

    .ws-chip strong {
      display: block;
      font-size: 16px;
      line-height: 1;
    }

    .ws-ctl { background: var(--blue); }
    .ws-atl { background: var(--pink); }
    .ws-tsb { background: var(--orange); }

    .ws-row {
      display: flex;
      justify-content: space-between;
      border-top: 1px solid #e5edf6;
      padding-top: 5px;
      margin-top: 5px;
    }

    .grid { display: grid; grid-template-columns: repeat(12, minmax(0, 1fr)); gap: 10px; }

    .stat {
      font-size: 28px;
      font-weight: 800;
      margin: 4px 0 2px;
    }

    .sub { margin: 0; color: var(--muted); font-size: 12px; }

    .toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top: 1px solid #edf2f7;
      padding: 9px 0;
      font-size: 14px;
    }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(11, 24, 39, 0.45);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 16px;
      z-index: 50;
    }

    .modal.open { display: flex; }

    .settings-card {
      width: min(760px, 100%);
      max-height: 90vh;
      overflow: auto;
      border-radius: 14px;
      border: 1px solid #d4e1ef;
      background: #fff;
      box-shadow: 0 24px 44px rgba(12, 26, 42, 0.24);
      padding: 18px;
    }

    .modal-card {
      width: min(1320px, 100%);
      max-height: 94vh;
      overflow: auto;
      border-radius: 14px;
      border: 1px solid #d4e1ef;
      background: #fff;
      box-shadow: 0 24px 44px rgba(12, 26, 42, 0.24);
      padding: 20px;
    }

    .modal-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .m-title { margin: 0; font-size: 62px; line-height: 1.05; color: #1f2b3d; }
    .m-title.small { font-size: 44px; }

    .icon-btn {
      border: 0;
      background: transparent;
      color: #495f7e;
      border-radius: 9px;
      padding: 4px;
      font-size: 32px;
      line-height: 1;
      cursor: pointer;
    }

    .section-label {
      margin: 18px 0 10px;
      font-size: 47px;
      color: #263348;
    }

    .type-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 8px;
      margin-top: 6px;
    }

    .type-btn {
      border: 0;
      background: transparent;
      border-radius: 10px;
      padding: 8px 10px;
      font-size: 22px;
      text-align: left;
      cursor: pointer;
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 8px;
      min-width: 0;
      overflow: hidden;
    }

    .type-btn span {
      min-width: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .type-icon {
      width: 32px;
      height: 32px;
      text-align: center;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      background: #eef4fb;
      overflow: hidden;
      flex: 0 0 32px;
    }

    .type-icon img {
      width: 22px;
      height: 22px;
      object-fit: contain;
      display: block;
    }

    .type-btn .type-icon {
      width: 48px;
      height: 48px;
      flex: 0 0 48px;
      background: transparent;
      display: grid;
      place-items: center;
      margin: 0;
    }

    .type-btn .type-icon img {
      width: 36px;
      height: 36px;
      object-fit: contain;
      object-position: center;
    }

    .type-btn:hover .type-icon { background: transparent; }
    .type-btn:hover { background: transparent; }

    .detail-shell {
      border: 1px solid #d7e1ef;
      border-radius: 12px;
      overflow: hidden;
      background: #fff;
    }

    .detail-top {
      display: grid;
      grid-template-columns: 1fr auto auto auto;
      gap: 10px;
      align-items: center;
      padding: 12px 14px;
      border-bottom: 1px solid #e3ebf4;
      background: #f8fbff;
    }

    .detail-date {
      color: #2753ce;
      font-size: 15px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.2px;
    }

    .mini-chip {
      border-radius: 8px;
      color: #fff;
      font-size: 14px;
      padding: 6px 10px;
      font-weight: 700;
    }
    .wv-row1 .mini-chip {
      font-size: 11px;
      padding: 4px 8px;
    }

    .mini-chip.ctl { background: var(--blue); }
    .mini-chip.atl { background: var(--pink); }
    .mini-chip.tsb { background: var(--orange); }

    .detail-body {
      display: grid;
      grid-template-columns: 1fr 340px;
      gap: 0;
      min-height: 460px;
    }

    .detail-left {
      padding: 14px;
      border-right: 1px solid #e3ebf4;
    }

    .detail-right {
      padding: 14px;
      background: #fbfdff;
    }

    .field {
      margin-bottom: 12px;
    }

    .field label {
      display: block;
      margin-bottom: 4px;
      color: #4e647d;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.32px;
      font-weight: 700;
    }

    .field input,
    .field textarea,
    .field select {
      width: 100%;
      border: 1px solid #cddaea;
      border-radius: 8px;
      padding: 10px;
      font-size: 14px;
      font-family: inherit;
      background: #fff;
    }

    .field textarea { min-height: 120px; resize: vertical; }

    .two-col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .comment-card {
      border: 1px solid #dde6f1;
      border-radius: 8px;
      padding: 16px;
      color: #8a9ab0;
      text-align: center;
      font-size: 14px;
      min-height: 180px;
      display: grid;
      place-items: center;
      background: #fff;
    }

    .modal-footer {
      border-top: 1px solid #e3ebf4;
      padding: 12px 14px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      align-items: center;
      background: #fff;
    }

    .btn.ghost { background: transparent; color: #33528a; }

    .workout-view-modal {
      z-index: 60;
    }

    #actionModal .modal-card {
      width: min(920px, 100%);
      max-height: 74vh;
      overflow: hidden;
      padding: 10px;
    }

    #actionModal .m-title { font-size: 30px; }
    #actionModal .section-label { font-size: 20px; margin: 5px 0 4px; }
    #actionModal .type-btn { font-size: 16px; padding: 4px 6px; }
    #actionModal .type-grid { gap: 4px; margin-top: 2px; }

    .wv-shell {
      border: 1px solid #d7e1ef;
      border-radius: 12px;
      background: #fff;
      overflow: hidden;
    }

    .wv-top {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      align-items: start;
      padding: 12px 14px;
      border-bottom: 1px solid #e3ebf4;
      background: #f8fbff;
      position: relative;
    }

    .wv-head-main {
      display: grid;
      gap: 6px;
    }

    .wv-row1 {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .wv-row2 {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 8px;
      align-items: start;
    }

    .wv-date-line {
      color: #1f5bd7;
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 0.2px;
      text-transform: uppercase;
      margin-right: 8px;
    }

    .wv-time-select {
      border: 1px solid #c9d7e9;
      border-radius: 8px;
      padding: 6px 8px;
      font-size: 14px;
      color: #2c4f79;
      background: #fff;
      font-family: inherit;
    }

    .wv-sport-wrap {
      display: inline-grid;
      align-content: start;
      justify-items: center;
      gap: 4px;
      position: relative;
      min-width: 66px;
    }

    .wv-sport-toggle {
      border: 1px solid #b6c8e2;
      border-radius: 999px;
      background: #fff;
      padding: 0;
      width: 16px;
      height: 16px;
      font-size: 9px;
      color: #32567d;
      font-family: inherit;
      cursor: pointer;
      position: absolute;
      bottom: -4px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2;
    }

    .wv-sport-wrap .type-icon {
      width: 50px;
      height: 50px;
      border-radius: 10px;
      flex: 0 0 50px;
      cursor: pointer;
    }

    .wv-sport-wrap .type-icon img {
      width: 37px;
      height: 37px;
    }

    .wv-title-input {
      border: 1px solid #c9d7e9;
      border-radius: 8px;
      padding: 8px 10px;
      font-size: 15px;
      font-weight: 700;
      color: #1f2f43;
      min-width: 260px;
      flex: 1;
      font-family: inherit;
    }

    .wv-sport-name {
      font-size: 11px;
      color: #345777;
      font-weight: 700;
      line-height: 1.1;
      text-align: center;
      max-width: 86px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .wv-title-stack {
      display: grid;
      gap: 6px;
      min-width: 0;
    }

    .wv-sport-select {
      border: 1px solid #c9d7e9;
      border-radius: 8px;
      padding: 7px 10px;
      font-size: 14px;
      color: #2c4f79;
      background: #fff;
      font-family: inherit;
    }

    .wv-meta-line {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
      color: #5f758e;
      font-size: 12px;
    }

    .wv-meta-line strong {
      color: #1f2f43;
      font-size: 16px;
    }

    .wv-tabs {
      display: flex;
      flex-direction: column;
      gap: 6px;
      align-items: stretch;
    }

    .wv-tab {
      border: 1px solid #c9d7e9;
      background: #1f5bd7;
      border-radius: 8px;
      padding: 6px 10px;
      color: #fff;
      font-weight: 700;
      cursor: pointer;
    }

    .wv-tab.active { box-shadow: 0 0 0 2px rgba(31, 91, 215, 0.2) inset; }
    .wv-tab:hover { box-shadow: 0 0 0 9999px rgba(31, 91, 215, 0.08) inset; }
    .wv-tab.files {
      background: #1f5bd7;
      color: #fff;
      border-color: #1f5bd7;
    }
    .wv-tab.files:hover {
      background: linear-gradient(0deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12)), #1f5bd7;
    }
    .wv-tab.analyze {
      background: #1f5bd7;
      color: #fff;
      border-color: #1f5bd7;
    }
    .wv-tab.analyze:hover { background: #2a66d2; color: #fff; }
    .wv-tab.summary {
      background: #fff;
      color: #1f5bd7;
      border-color: #8fb2e9;
    }
    .wv-tab.summary:hover { background: #edf4ff; color: #163f98; }

    .wv-tab.disabled {
      opacity: 0.45;
      cursor: not-allowed;
      pointer-events: none;
    }

    .wv-sport-menu {
      position: absolute;
      top: 70px;
      left: 0;
      background: #fff;
      border: 1px solid #d4e0ef;
      border-radius: 10px;
      box-shadow: 0 10px 22px rgba(18, 38, 62, 0.18);
      padding: 8px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 6px;
      width: 260px;
      z-index: 50;
    }

    .wv-sport-item {
      border: 1px solid transparent;
      background: #fff;
      border-radius: 8px;
      padding: 6px;
      display: grid;
      place-items: center;
      cursor: pointer;
    }
    .wv-sport-item:hover { border-color: #9bb8e2; background: #f3f8ff; }
    .wv-sport-item span {
      font-size: 10px;
      color: #36597f;
      margin-top: 2px;
      max-width: 56px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      text-align: center;
      display: block;
    }
    .wv-sport-item .type-icon {
      width: 48px;
      height: 48px;
      flex: 0 0 48px;
      display: grid;
      place-items: center;
    }
    .wv-sport-item .type-icon img {
      width: 28px;
      height: 28px;
      object-fit: contain;
      object-position: center;
    }

    .rpe-slider.rpe-unset {
      opacity: 0.6;
      accent-color: #c8d6ea;
    }

    .feel-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .feel-btn {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid #c9d7e9;
      background: #fff;
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
    }

    .feel-btn.active {
      border-color: #1f5bd7;
      box-shadow: 0 0 0 2px #dce9ff inset;
    }

    .feel-btn:disabled,
    .rpe-slider:disabled {
      opacity: 0.45;
      cursor: not-allowed;
    }

    .rpe-slider {
      width: 100%;
    }

    .wv-body {
      padding: 14px;
      max-height: 76vh;
      overflow: auto;
    }

    .workout-view-modal .modal-card {
      width: min(760px, 100%) !important;
      max-height: 95vh;
    }

    .workout-view-modal.analyze-mode .modal-card {
      width: min(1320px, 98vw) !important;
    }

    .wv-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr) 170px;
      gap: 12px;
    }

    .wv-grid-vertical {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .wv-card {
      border: 1px solid #dde7f3;
      border-radius: 10px;
      padding: 10px;
      background: #fbfdff;
    }

    .wv-kv {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      margin-top: 8px;
    }

    .wv-kv div {
      border: 1px solid #e0e9f4;
      border-radius: 8px;
      background: #fff;
      padding: 8px;
      font-size: 12px;
      color: #4f657f;
    }

    .wv-kv strong {
      display: block;
      color: #1f2f43;
      font-size: 18px;
      margin-top: 2px;
    }

    .wv-file-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border: 1px solid #dce6f2;
      border-radius: 8px;
      padding: 8px 10px;
      background: #fff;
      margin-top: 8px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .wv-file-actions {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .wv-files-popover {
      position: absolute;
      right: 58px;
      top: 44px;
      width: 360px;
      z-index: 40;
    }

    .comment-feed {
      min-height: 0;
      max-height: 180px;
      overflow: auto;
      padding: 0;
      display: grid;
      gap: 6px;
    }

    .comment-feed .comment-item {
      border: 1px solid #e1e9f4;
      border-radius: 6px;
      padding: 6px 8px;
      font-size: 12px;
      color: #2f455f;
      background: #f9fcff;
      white-space: pre-wrap;
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 8px;
    }

    .comment-text {
      flex: 1;
      cursor: text;
    }

    .comment-delete {
      border: 0;
      background: transparent;
      color: #6f839c;
      cursor: pointer;
      font-weight: 700;
      line-height: 1;
      padding: 0 2px;
    }

    .comment-edit-input {
      width: 100%;
      border: 1px solid #c9d7e9;
      border-radius: 6px;
      padding: 4px 6px;
      font-family: inherit;
      font-size: 12px;
      min-height: 44px;
      resize: vertical;
    }

    .comment-input-row {
      margin-top: 8px;
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .comment-input-row input {
      flex: 1;
      border: 1px solid #cddaea;
      border-radius: 8px;
      padding: 8px 10px;
      font-family: inherit;
    }

    .pc-table {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 6px;
      margin-top: 8px;
      font-size: 12px;
    }

    .pc-table > div {
      border: 1px solid #dfe8f3;
      border-radius: 6px;
      background: #fff;
      padding: 6px;
      color: #445d79;
    }

    .pc-table .pc-head {
      background: #edf4fb;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .25px;
      font-size: 11px;
    }

    .chart-box {
      border: 1px solid #dbe6f2;
      border-radius: 10px;
      background: #f8fbff;
      padding: 10px;
    }

    .legend {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 8px;
      font-size: 11px;
      color: #536a84;
    }

    .legend span::before {
      content: "";
      display: inline-block;
      width: 10px;
      height: 10px;
      border-radius: 2px;
      margin-right: 4px;
      vertical-align: -1px;
      background: currentColor;
    }

    .l-hr { color: #f35353; }
    .l-pwr { color: #ff62f2; }
    .l-cad { color: #f39b1f; }
    .l-spd { color: #3fa144; }

    .lap-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 13px;
    }

    .lap-table th,
    .lap-table td {
      border: 1px solid #dce6f2;
      padding: 8px;
      text-align: left;
    }

    .lap-table th {
      background: #eef4fb;
      color: #445d79;
    }

    .lap-table tr.selected {
      background: #e6f0ff;
    }

    .ctx-menu {
      position: fixed;
      z-index: 90;
      background: #fff;
      border: 1px solid #d2dfef;
      border-radius: 8px;
      box-shadow: 0 14px 22px rgba(12, 26, 42, 0.18);
      min-width: 160px;
      display: none;
      padding: 4px;
    }

    .ctx-menu button {
      width: 100%;
      text-align: left;
      border: 0;
      background: transparent;
      padding: 8px 9px;
      border-radius: 6px;
      cursor: pointer;
      color: #2b425d;
      font-weight: 600;
    }

    .ctx-menu button:hover {
      background: #edf4ff;
    }

    .tp-workout-layout {
      display: grid;
      grid-template-columns: 1.05fr 1fr;
      gap: 16px;
      align-items: start;
    }

    .tp-table-head {
      display: grid;
      grid-template-columns: 110px 1fr 1fr 80px;
      gap: 6px;
      margin-bottom: 6px;
      color: #28384d;
      font-size: 18px;
    }

    .tp-row {
      display: grid;
      grid-template-columns: 110px 1fr 1fr 80px;
      gap: 6px;
      align-items: center;
      margin-bottom: 6px;
    }

    .tp-row label {
      text-align: right;
      color: #24364c;
      font-size: 14px;
      font-weight: 500;
    }

    .tp-in {
      width: 100%;
      border: 1px solid #cfd9e7;
      border-radius: 6px;
      background: #fff;
      padding: 6px 8px;
      height: 34px;
      font-size: 14px;
      color: #2a3a51;
    }

    .tp-in.readonly {
      background: #eef2f7;
    }

    .tp-in.muted {
      background: #eef2f7;
    }

    .tp-unit {
      color: #24364c;
      font-size: 16px;
      text-align: left;
    }

    .tp-unit-select {
      width: 100%;
      border: 1px solid #cfd9e7;
      border-radius: 6px;
      background: #fff;
      height: 34px;
      padding: 5px 7px;
      font-size: 14px;
      font-family: inherit;
    }

    .tp-minmax-head {
      display: grid;
      grid-template-columns: 110px 1fr 1fr 1fr 80px;
      gap: 6px;
      margin: 14px 0 6px;
      color: #25364b;
      font-size: 13px;
      text-align: center;
    }

    .tp-minmax-row {
      display: grid;
      grid-template-columns: 110px 1fr 1fr 1fr 80px;
      gap: 6px;
      align-items: center;
      margin-bottom: 6px;
    }

    .tp-minmax-row label {
      text-align: right;
      font-size: 14px;
      color: #24364c;
    }

    .tp-right-block .field label {
      font-size: 14px;
      text-transform: none;
      letter-spacing: 0;
      font-weight: 500;
      color: #24364c;
    }

    .tp-right-block .field textarea,
    .tp-right-block .field input {
      border-radius: 6px;
      font-size: 14px;
      min-height: 34px;
    }

    .tp-equipment-title {
      font-size: 18px;
      color: #24364c;
      text-align: center;
      margin: 14px 0 8px;
    }

    .tp-eq-row {
      display: grid;
      grid-template-columns: 110px 1fr;
      gap: 8px;
      margin-bottom: 8px;
      align-items: center;
    }

    .tp-eq-row label {
      text-align: right;
      font-size: 14px;
      color: #24364c;
    }

    .tp-select {
      border: 1px solid #d4dce8;
      border-radius: 8px;
      background: #eef2f7;
      color: #55657d;
      padding: 8px 12px;
      font-size: 14px;
      height: 36px;
      width: 100%;
    }

    #view-calendar .import-btn {
      background: #d9e1ec;
      border-color: #9aafc6;
      color: #3b5168;
    }

    #view-calendar .import-btn:hover {
      background: #cfd9e6;
    }

    .hidden { display: none; }

    @media (max-width: 1450px) {
      .home-grid { grid-template-columns: 260px 1fr 330px; }
      .calendar-week-header,
      .week-row { grid-template-columns: repeat(7, minmax(0, 1fr)) 220px; }
      .m-title { font-size: 46px; }
      .section-label { font-size: 34px; }
      .type-btn { font-size: 30px; }
    }

    @media (max-width: 1200px) {
      .home-grid { grid-template-columns: 1fr; }
      .calendar-week-header,
      .week-row { grid-template-columns: repeat(7, minmax(0, 1fr)); }
      .calendar-week-header .sum-head,
      .week-summary { display: none; }
      .detail-body { grid-template-columns: 1fr; }
      .detail-left { border-right: 0; border-bottom: 1px solid #e3ebf4; }
      .wv-grid { grid-template-columns: 1fr; }
      .tp-workout-layout { grid-template-columns: 1fr; }
    }

    @media (max-width: 820px) {
      .top-nav { grid-template-columns: 1fr; gap: 6px; padding: 8px; }
      .brand, .nav-right { justify-self: center; }
      .tabs { flex-wrap: wrap; }
      .type-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .m-title { font-size: 34px; }
      .section-label { font-size: 28px; }
      .type-btn { font-size: 24px; }
    }
